{% extends "index.html" %}

{% block content %}


<h1 style="text-align: center;">Employee Info</h1>


<table class="table">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Mobile Number</th>
            <th scope="col">Age</th>

            <!-- Button Add -->
            <th scope="col">
                <button type="button" class="btn btn-success" data-toggle="modal" data-target="#addempdetails">
                    Add
                </button>

                <!-- Modal -->
                <div class="modal fade" id="addempdetails" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Add Employee Data</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hi dden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">

                                <form action="http://localhost:5000/insert" method="POST">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Employee Name</label>
                                        <input type="hidden" name="oldname">
                                        <input type="text" class="form-control" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" name="name" placeholder="Enter name" required>

                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Mobile Number</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1" name="phone"
                                            placeholder="mobile number" name="phone" required>
                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Age</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1" name="age"
                                            placeholder="age" name="age" required>
                                    </div>

                                    <!-- </form> -->

                                    <!-- </div> -->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-primary">submit</button>
                                    </div>
                                </form>

                            </div>


                        </div>
                    </div>
                </div>
            </th>
            <!-- Button Add -->
        </tr>
    </thead>
    <tbody>

        {% for data in users %}

        <tr>
            <th scope="row">{{data._id}}</th>
            <td>{{data.name}}</td>
            <td>{{data.phone}}</td>
            <td>{{data.age}}</td>

            <td>
                <!-- Button Edit -->

                <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target="#exampleModal{{data._id}}">
                    Edit
                </button>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal{{data._id}}" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Update Employee Data</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hi dden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">

                                <form action="http://localhost:5000/update" method="POST">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Employee Name</label>
                                        <input type="hidden" value="{{data.name}}" name="oldname">
                                        <input type="text" class="form-control" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="{{data.name}}" name="newname"
                                            placeholder="Enter email">

                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Mobile Number</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1"
                                            value="{{data.phone}}" name="phone" placeholder="Password">
                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Age</label>
                                        <input type="text" class="form-control" id="exampleInputPassword1"
                                            value="{{data.age}}" name="age" placeholder="Password">
                                    </div>

                                    <!-- </form> -->

                                    <!-- </div> -->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-primary">Update</button>
                                    </div>
                                </form>

                            </div>


                        </div>
                    </div>
                </div>


            </td>

            <!-- edit -->
            <td>
                <form action="http://localhost:5000/delete" method="POST">
                    <input type="hidden" value="{{data.name}}" name="name">
                    <input type="submit" class="btn btn-danger" value="Delete">
                </form>
            </td>
            <!-- edit -->

        </tr>

        {% endfor %}

    </tbody>
</table>

{% endblock %}